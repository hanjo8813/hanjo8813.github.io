---
title:  "Spring 용어정리"
date: 2021-08-18
categories: 
  - Spring

# 고정값
classes: wide
toc: false
toc_sticky: false
---

일단 기본 용어부터 대충 정리해놓기


## 스프링 계층구조 

![image](https://user-images.githubusercontent.com/71180414/129831418-dd2bab43-4319-48f7-82b3-2d185f869de0.png){:width='700'}

- 도메인 : 비즈니스 그 자체를 뜻함
    - `Entity` : 각 엔티티는 유일하기에 구분할 수 있는 식별자를 가지고 있다. 시간에 따라 상태가 변경됨
    - `DTO`(VO)  : 각 계층간 데이터 **교환**을 위한 객체 (데이터 바인딩용)(고유 불변한 객체이다.)
    - `DAO` : DB를 사용해 데이터 조회, **조작**하는 객체
- `Presentation`(Web) : 사용자와 상호작용. 여기서 View, Controller가 동작한다
- `Service`(Business) : 비즈니스 로직을 담당하는 계층
- `Repository`(Data Access) : DAO의 구현부분

<br>

## DI (Dependency Injection)

<br>


## IoC (Inversion of Control)

- 제어의 역전을 뜻한다
- 객체 생성 및 관리를 `IoC 컨테이너`라고 불리는 클래스에서 모두 수행하게 된다.
- 팩토리 메소드 패턴과 매우 유사한 것 같다

### Spring에서의 IoC

- `BeanFactory` : Spring에서 지원하며, IoC 컨테이너의 기능을 정의하는 인터페이스이다.
- `Bean` : IoC 컨테이너에 의해 생성되고 관리되는 객체이다
- `ApplicationContext` : BeanFactory가 제공하는 기능 + AOP, 메시지 처리, 이벤트 처리 등의 기능을 제공한다.
- `Configuration MetaData` : Bean 객체 생성시 메타데이터를 ApplicationContext로부터 받아오는 것
    - `GenericXmlApplicationContext` : xml 기반 구현체 생성
    - `AnnotationConfigApplicattionContext` : 어노테이션 기반 구현체 생성

### Circular Dependency

- IoC 컨테이너 내의 Bean들은 서로 참조가 가능하다.
- 하지만 순차적으로 참조하는 것이 아닌 순환하여 참조하게 된다면 오류가 발생한다

<br>


## Streotype Annotation

- 어노테이션을 달아놓은 객체(?)를 컴포넌트라고 칭한다

- `@Configuration` : App Context(IoC 컨테이너)로 등록하기
- `@Bean` : 
- `@ComponentScan` : 
    - `@ComponentScan(basePackages = {"패키지명", ...}`
    - `@ComponentScan(basePackageClasses = {클래스, ...})`
- `@Service` : 
- `@Repository` : 

<br>

## Auto Wired

- 스프링의 ComponentScan 사용시 Bean을 직접 지정하지 않는다.
- 따라서 Bean에서 직접 의존관계 주입해주던 방식을 자동화해주는 Auto Wired 기능이 등장.
- `Component`로 등록된 파일 내에서 생성자에 `@Autowired` 어노테이션을 붙여준다.
    - 초기화시 필요한 모든 의존관계가 형성됨
    - 잘못된 패턴을 찾을 수 있도록 도와줌
    - 테스트를 쉽게 해줌
    - 불변성을 확보
- 만약 생성자와 관련된 Bean이 두개 이상이라면? => 해당 Bean에 어노테이션을 달아줘야함.
    - `@Primary` : 가장 우선이 되는 Bean을 뜻함
    - `@Qualifier("별명")` : Bean 파일에서 별명 설정 후, 생성자에서 명시해줘야함

<br>

## Bean Scope

- 총 6개의 Bean Scope가 존재함
    - `singleton`, `prototype`, `request`, `session`, `application`, `websocket`
- 기본적으로 싱글톤 스코프를 가진다.

<br>

## AOP